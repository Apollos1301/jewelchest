{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abtin\\\\Desktop\\\\HTML\\\\dia\\\\client\\\\src\\\\components\\\\pages\\\\ProduktePage.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport Navbar_produkte from \"../single_comps/produktePageComps/Navbar_produkte\";\nimport SearchBar from \"../single_comps/produktePageComps/SearchBar\";\nimport SetProducts from \"../single_comps/produktePageComps/SetProducts\";\nimport Products from \"../single_comps/produktePageComps/Products\";\nimport MidCards from \"../single_comps/produktePageComps/MidCards\";\nimport { useRef, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TopDiv = styled.div`\n  width: 100%;\n  height: 800px;\n  overflow: hidden;\n`;\n_c = TopDiv;\nconst MidDiv1 = styled.div`\n  width: 100%;\n  margin-top: 10px;\n`;\n_c2 = MidDiv1;\nconst MidDiv2 = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 1600px;\n  height: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 550px;\n\n  border: 1px solid black;\n`;\n_c3 = MidDiv2;\nconst FootDiv = styled.div`\n  margin-top: 140px;\n  width: 100%;\n  height: 300px;\n`;\n_c4 = FootDiv;\n\nfunction ProduktePage(_ref) {\n  _s();\n\n  let {\n    allprods_display,\n    deactProd\n  } = _ref;\n  const [filter, setFilter] = useState(getFilter([], 10, allprods_display));\n  const prod = useRef(allprods_display);\n  useEffect(() => {\n    var neww = getFilter([], 10, allprods_display);\n    setFilter([...neww]);\n  }, [allprods_display]);\n\n  const filterSetter = setter => {\n    // console.log(setter)\n    setFilter([...setter]);\n  };\n  /*const toFindDuplicates = (arry) =>\r\n    arry.filter((item, index) => arry.indexOf(item) !== index);\r\n  const duplicateElementa = toFindDuplicates(filterProds);\r\n  console.log(duplicateElementa);*/\n  //console.log(counter)\n\n\n  var allprods = allprods_display;\n  const [searchChar, setSearchTextChar] = useState(\"\");\n  const searcher = useRef(false);\n  var new_prods = useRef([]);\n  var past_prods = allprods_display;\n  past_prods = past_prods.flat();\n\n  function searchText(text) {\n    setSearchTextChar(text);\n\n    if (text) {\n      searcher.current = true;\n    } else {\n      searcher.current = false;\n      allprods = allprods_display;\n    }\n  }\n\n  if (searcher.current) {\n    var prods = [];\n    new_prods.current = [];\n\n    for (var i = 0; i < past_prods.length; i++) {\n      var obj_text = past_prods[i].product_keywords.toString();\n      obj_text = obj_text.toLowerCase();\n      var text_ = searchChar.toString();\n      text_ = text_.toLowerCase();\n\n      if (obj_text.search(text_) != -1) {\n        new_prods.current.push(past_prods[i]);\n      }\n    }\n\n    var size = 25;\n\n    for (var i = 0; i < new_prods.current.length; i += size) {\n      prods.push(new_prods.current.slice(i, i + size));\n    }\n\n    if (prods.length > 0) {\n      allprods = prods;\n    } else {\n      allprods = allprods_display;\n      console.log(\"error nothing found\");\n    }\n  }\n\n  var newProds = [];\n\n  const updatedFilter = lastFilter => {\n    //console.log(lastFilter);\n    var prodArray = [];\n    var oldArray = [];\n\n    if (lastFilter[0]) {\n      newProds.unshift(lastFilter);\n    } else {\n      for (let i = 0; i < newProds.length; i++) {\n        if (newProds[i][3] === lastFilter[3]) {\n          newProds.splice(i, 1);\n        }\n      }\n    }\n\n    if (newProds.length > 0) {\n      for (let i = 0; i < newProds.length; i++) {\n        prodArray.unshift([newProds[i][2], newProds[i][1]]);\n      }\n    }\n\n    console.log(getFilter(prodArray[prodArray.length - 1][1], prodArray[prodArray.length - 1][0])); //console.log(prodArray[prodArray.length - 1][1]);\n  }; //console.log(filter);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      overflowY: \"hidden\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(TopDiv, {\n      children: /*#__PURE__*/_jsxDEV(Navbar_produkte, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MidDiv1, {\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        searchOn: searchText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SetProducts, {\n        deactProd: deactProd,\n        filter: filter,\n        filterSet: filterSetter,\n        list: updatedFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        allprods_display: allprods,\n        filter: filter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MidDiv2, {\n      children: /*#__PURE__*/_jsxDEV(MidCards, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), \"s\", /*#__PURE__*/_jsxDEV(FootDiv, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProduktePage, \"ZjtzuheGiNhOvtRV6uLCBV/uir8=\");\n\n_c5 = ProduktePage;\nexport default ProduktePage;\n\nconst getFilter = (allprods_display, out, old) => {\n  var arr = allprods_display;\n  arr = arr.flat();\n  var filterArr = [{\n    filter: \"kategorie\",\n    all: [],\n    lastActive: false\n  }, {\n    filter: \"marke\",\n    all: [],\n    lastActive: false\n  }, {\n    filter: \"material\",\n    all: [],\n    lastActive: false\n  }, {\n    filter: \"farbe\",\n    all: [],\n    lastActive: false\n  }];\n  var endArr = [];\n  var uniq = []; //////////////////////////\n  //var markenArr = [];\n\n  if (out !== 0) {\n    arr = old;\n  } else {\n    arr = allprods_display;\n  }\n\n  uniq = [\"Ohrring\", \"Ohrstecker\", \"Kette\", \"Ring\", \"Armband\", \"Creole\"];\n  uniq.map((item, index) => {\n    arr.map((prct, ind) => {\n      if (prct.product_keywords != null) {\n        let prodKategorie = prct.product_keywords.toLowerCase();\n        let savedKategorie = item.toLowerCase();\n\n        if (prodKategorie.search(savedKategorie) != -1) {\n          endArr.push(prct);\n        }\n      }\n    });\n    filterArr[0][item] = [false, endArr];\n    endArr = [];\n  }); //////////////////////////\n\n  if (out !== 1) {\n    arr = old;\n  } else {\n    arr = allprods_display;\n  }\n\n  var markenArr = [];\n  arr.map((prod, ind) => {\n    if (prod.product_marke != null) {\n      markenArr.push(prod.product_marke.toLowerCase());\n    }\n  });\n  uniq = [...new Set(markenArr)];\n  uniq.map((item, index) => {\n    arr.map((prct, ind) => {\n      if (prct.product_marke != null) {\n        let prodMarke = prct.product_marke.toLowerCase();\n        let savedMarke = item.toLowerCase();\n\n        if (prodMarke.search(savedMarke) != -1) {\n          endArr.push(prct);\n        }\n      }\n    });\n    filterArr[1][item] = [false, endArr];\n    endArr = [];\n  }); //////////////////////////\n\n  if (out !== 2) {\n    arr = old;\n  } else {\n    arr = allprods_display;\n  }\n\n  var materialArr = [];\n  arr.map((prod, ind) => {\n    if (prod.product_material != null) {\n      materialArr.push(prod.product_material.toLowerCase());\n    }\n  });\n  uniq = [...new Set(materialArr)];\n  uniq.map((item, index) => {\n    arr.map((prct, ind) => {\n      if (prct.product_material != null) {\n        let prodMaterial = prct.product_material.toLowerCase();\n        let savedMaterial = item.toLowerCase();\n\n        if (prodMaterial.search(savedMaterial) != -1) {\n          endArr.push(prct);\n        }\n      }\n    });\n    filterArr[2][item] = [false, endArr];\n    endArr = [];\n  }); //////////////////////////\n\n  if (out !== 3) {\n    arr = old;\n  } else {\n    arr = allprods_display;\n  }\n\n  var farbenArr = [];\n  arr.map((prod, ind) => {\n    if (prod.product_farbe != null) {\n      farbenArr.push(prod.product_farbe.toLowerCase());\n    }\n  });\n  uniq = [...new Set(farbenArr)];\n  uniq.map((item, index) => {\n    arr.map((prct, ind) => {\n      if (prct.product_farbe != null) {\n        let prodFarbe = prct.product_farbe.toLowerCase();\n        let savedFarbe = item.toLowerCase();\n\n        if (prodFarbe.search(savedFarbe) != -1) {\n          endArr.push(prct);\n        }\n      }\n    });\n    filterArr[3][item] = [false, endArr];\n    endArr = [];\n  });\n  return filterArr;\n};\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"TopDiv\");\n$RefreshReg$(_c2, \"MidDiv1\");\n$RefreshReg$(_c3, \"MidDiv2\");\n$RefreshReg$(_c4, \"FootDiv\");\n$RefreshReg$(_c5, \"ProduktePage\");","map":{"version":3,"sources":["C:/Users/Abtin/Desktop/HTML/dia/client/src/components/pages/ProduktePage.js"],"names":["styled","Navbar_produkte","SearchBar","SetProducts","Products","MidCards","useRef","useState","useEffect","TopDiv","div","MidDiv1","MidDiv2","FootDiv","ProduktePage","allprods_display","deactProd","filter","setFilter","getFilter","prod","neww","filterSetter","setter","allprods","searchChar","setSearchTextChar","searcher","new_prods","past_prods","flat","searchText","text","current","prods","i","length","obj_text","product_keywords","toString","toLowerCase","text_","search","push","size","slice","console","log","newProds","updatedFilter","lastFilter","prodArray","oldArray","unshift","splice","overflowY","out","old","arr","filterArr","all","lastActive","endArr","uniq","map","item","index","prct","ind","prodKategorie","savedKategorie","markenArr","product_marke","Set","prodMarke","savedMarke","materialArr","product_material","prodMaterial","savedMaterial","farbenArr","product_farbe","prodFarbe","savedFarbe"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\r\nimport Navbar_produkte from \"../single_comps/produktePageComps/Navbar_produkte\";\r\nimport SearchBar from \"../single_comps/produktePageComps/SearchBar\";\r\nimport SetProducts from \"../single_comps/produktePageComps/SetProducts\";\r\nimport Products from \"../single_comps/produktePageComps/Products\";\r\nimport MidCards from \"../single_comps/produktePageComps/MidCards\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\n\r\nconst TopDiv = styled.div`\r\n  width: 100%;\r\n  height: 800px;\r\n  overflow: hidden;\r\n`;\r\nconst MidDiv1 = styled.div`\r\n  width: 100%;\r\n  margin-top: 10px;\r\n`;\r\nconst MidDiv2 = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 1600px;\r\n  height: 800px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  margin-top: 550px;\r\n\r\n  border: 1px solid black;\r\n`;\r\nconst FootDiv = styled.div`\r\n  margin-top: 140px;\r\n  width: 100%;\r\n  height: 300px;\r\n`;\r\nfunction ProduktePage({ allprods_display, deactProd }) {\r\n  const [filter, setFilter] = useState(getFilter([], 10, allprods_display));\r\n  const prod = useRef(allprods_display);\r\n  useEffect(() => {\r\n    var neww = getFilter([], 10, allprods_display);\r\n    setFilter([...neww]);\r\n  }, [allprods_display]);\r\n\r\n  const filterSetter = (setter) => {\r\n    // console.log(setter)\r\n    setFilter([...setter]);\r\n  };\r\n  /*const toFindDuplicates = (arry) =>\r\n    arry.filter((item, index) => arry.indexOf(item) !== index);\r\n  const duplicateElementa = toFindDuplicates(filterProds);\r\n  console.log(duplicateElementa);*/\r\n  //console.log(counter)\r\n  var allprods = allprods_display;\r\n  const [searchChar, setSearchTextChar] = useState(\"\");\r\n  const searcher = useRef(false);\r\n  var new_prods = useRef([]);\r\n  var past_prods = allprods_display;\r\n  past_prods = past_prods.flat();\r\n\r\n  function searchText(text) {\r\n    setSearchTextChar(text);\r\n    if (text) {\r\n      searcher.current = true;\r\n    } else {\r\n      searcher.current = false;\r\n      allprods = allprods_display;\r\n    }\r\n  }\r\n  if (searcher.current) {\r\n    var prods = [];\r\n    new_prods.current = [];\r\n    for (var i = 0; i < past_prods.length; i++) {\r\n      var obj_text = past_prods[i].product_keywords.toString();\r\n      obj_text = obj_text.toLowerCase();\r\n      var text_ = searchChar.toString();\r\n      text_ = text_.toLowerCase();\r\n      if (obj_text.search(text_) != -1) {\r\n        new_prods.current.push(past_prods[i]);\r\n      }\r\n    }\r\n\r\n    var size = 25;\r\n    for (var i = 0; i < new_prods.current.length; i += size) {\r\n      prods.push(new_prods.current.slice(i, i + size));\r\n    }\r\n    if (prods.length > 0) {\r\n      allprods = prods;\r\n    } else {\r\n      allprods = allprods_display;\r\n      console.log(\"error nothing found\");\r\n    }\r\n  }\r\n\r\n  var newProds = [];\r\n  const updatedFilter = (lastFilter) => {\r\n    //console.log(lastFilter);\r\n\r\n    var prodArray = [];\r\n    var oldArray = [];\r\n\r\n    if (lastFilter[0]) {\r\n      newProds.unshift(lastFilter);\r\n    } else {\r\n      for (let i = 0; i < newProds.length; i++) {\r\n        if (newProds[i][3] === lastFilter[3]) {\r\n          newProds.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n    if (newProds.length > 0) {\r\n      for (let i = 0; i < newProds.length; i++) {\r\n        prodArray.unshift([newProds[i][2], newProds[i][1]]);\r\n      }\r\n    }\r\n    console.log(\r\n      getFilter(\r\n        prodArray[prodArray.length - 1][1],\r\n        prodArray[prodArray.length - 1][0]\r\n      )\r\n    );\r\n    //console.log(prodArray[prodArray.length - 1][1]);\r\n  };\r\n\r\n  //console.log(filter);\r\n  return (\r\n    <div style={{ overflowY: \"hidden\" }}>\r\n      <TopDiv>\r\n        <Navbar_produkte />\r\n      </TopDiv>\r\n      <MidDiv1>\r\n        <SearchBar searchOn={searchText} />\r\n        <SetProducts\r\n          deactProd={deactProd}\r\n          filter={filter}\r\n          filterSet={filterSetter}\r\n          list={updatedFilter}\r\n        />\r\n        <Products allprods_display={allprods} filter={filter} />\r\n      </MidDiv1>\r\n      <MidDiv2>\r\n        <MidCards />\r\n      </MidDiv2>\r\n      s<FootDiv></FootDiv>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProduktePage;\r\n\r\nconst getFilter = (allprods_display, out, old) => {\r\n  var arr = allprods_display;\r\n  arr = arr.flat();\r\n  var filterArr = [\r\n    { filter: \"kategorie\", all: [], lastActive: false },\r\n    { filter: \"marke\", all: [], lastActive: false },\r\n    { filter: \"material\", all: [], lastActive: false },\r\n    { filter: \"farbe\", all: [], lastActive: false },\r\n  ];\r\n  var endArr = [];\r\n  var uniq = [];\r\n\r\n  //////////////////////////\r\n  //var markenArr = [];\r\n  if (out !== 0) {\r\n    arr = old;\r\n  } else {\r\n    arr = allprods_display;\r\n  }\r\n  uniq = [\"Ohrring\", \"Ohrstecker\", \"Kette\", \"Ring\", \"Armband\", \"Creole\"];\r\n\r\n  uniq.map((item, index) => {\r\n    arr.map((prct, ind) => {\r\n      if (prct.product_keywords != null) {\r\n        let prodKategorie = prct.product_keywords.toLowerCase();\r\n        let savedKategorie = item.toLowerCase();\r\n        if (prodKategorie.search(savedKategorie) != -1) {\r\n          endArr.push(prct);\r\n        }\r\n      }\r\n    });\r\n    filterArr[0][item] = [false, endArr];\r\n    endArr = [];\r\n  });\r\n\r\n  //////////////////////////\r\n  if (out !== 1) {\r\n    arr = old;\r\n  } else {\r\n    arr = allprods_display;\r\n  }\r\n  var markenArr = [];\r\n  arr.map((prod, ind) => {\r\n    if (prod.product_marke != null) {\r\n      markenArr.push(prod.product_marke.toLowerCase());\r\n    }\r\n  });\r\n  uniq = [...new Set(markenArr)];\r\n\r\n  uniq.map((item, index) => {\r\n    arr.map((prct, ind) => {\r\n      if (prct.product_marke != null) {\r\n        let prodMarke = prct.product_marke.toLowerCase();\r\n        let savedMarke = item.toLowerCase();\r\n        if (prodMarke.search(savedMarke) != -1) {\r\n          endArr.push(prct);\r\n        }\r\n      }\r\n    });\r\n    filterArr[1][item] = [false, endArr];\r\n    endArr = [];\r\n  });\r\n\r\n  //////////////////////////\r\n  if (out !== 2) {\r\n    arr = old;\r\n  } else {\r\n    arr = allprods_display;\r\n  }\r\n  var materialArr = [];\r\n  arr.map((prod, ind) => {\r\n    if (prod.product_material != null) {\r\n      materialArr.push(prod.product_material.toLowerCase());\r\n    }\r\n  });\r\n  uniq = [...new Set(materialArr)];\r\n\r\n  uniq.map((item, index) => {\r\n    arr.map((prct, ind) => {\r\n      if (prct.product_material != null) {\r\n        let prodMaterial = prct.product_material.toLowerCase();\r\n        let savedMaterial = item.toLowerCase();\r\n        if (prodMaterial.search(savedMaterial) != -1) {\r\n          endArr.push(prct);\r\n        }\r\n      }\r\n    });\r\n    filterArr[2][item] = [false, endArr];\r\n    endArr = [];\r\n  });\r\n\r\n  //////////////////////////\r\n  if (out !== 3) {\r\n    arr = old;\r\n  } else {\r\n    arr = allprods_display;\r\n  }\r\n  var farbenArr = [];\r\n  arr.map((prod, ind) => {\r\n    if (prod.product_farbe != null) {\r\n      farbenArr.push(prod.product_farbe.toLowerCase());\r\n    }\r\n  });\r\n  uniq = [...new Set(farbenArr)];\r\n\r\n  uniq.map((item, index) => {\r\n    arr.map((prct, ind) => {\r\n      if (prct.product_farbe != null) {\r\n        let prodFarbe = prct.product_farbe.toLowerCase();\r\n        let savedFarbe = item.toLowerCase();\r\n        if (prodFarbe.search(savedFarbe) != -1) {\r\n          endArr.push(prct);\r\n        }\r\n      }\r\n    });\r\n    filterArr[3][item] = [false, endArr];\r\n    endArr = [];\r\n  });\r\n\r\n  return filterArr;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}